<!DOCTYPE html>
<html lang="en">
<head>
    @@include('layout/meta.html', {
        "title" : "test"
    })
    <style>
  
        </style>
</head>
 
<body>

  <div id="weather">
    <p>桃園市</p>
    <p>溫度: <span id='tem'></span></p>
    <p>體感溫度: <span id='feel-like'></span></p>
    <p>濕度: <span id='humidity'></span></p>

  </div>

  <script>
    var xhr = new XMLHttpRequest();
    var tem = document.getElementById('tem');
    var fellLike = document.getElementById('feel-like');
    var humidity = document.getElementById('humidity');

//綁定監聽事件

//串接台灣天氣api，將城市名稱代入html的選單中
// let weather = 
// new Vue({
//     el:'#weather',
//     data:{
//       dataObject:[],
//       location:[],
//     },
//     computed: {  
//       locationFil(){
//         let filterArr = this.location.filter(v => v.locationName == "桃園市" )
//         return filterArr;
//       },
//       maxC(){
//         locationFil.filter(v => v.weatherElement == "桃園市" )
//         return filterArr;
//       }

//       }
//     },

//     created() {
//       xhr.open('get','https://opendata.cwb.gov.tw/fileapi/v1/opendataapi/F-C0032-001?Authorization=rdec-key-123-45678-011121314&format=JSON',true);
//       xhr.send(null);
//       xhr.onload = function () {
//           weather.dataObject = JSON.parse(xhr.responseText);
//           weather.location = weather.dataObject.cwbopendata.dataset.location;
//       }
//     },
      
// })

// function getWeather() {
//     xhr.open('get','https://opendata.cwb.gov.tw/fileapi/v1/opendataapi/F-C0032-001?Authorization=rdec-key-123-45678-011121314&format=JSON',true);
//     xhr.send(null);
//     xhr.onload = function () {
//         var dataObject = JSON.parse(xhr.responseText);
//         // var len = dataObject.list.length;
        

//         // filterLoc() {   //星期一維修
//         //     let filterArr = this.facilityRows.filter(v => v.fac_maintain_date == 1)
//         //     return filterArr;
//         // },
//         // for ( var i=0 ; i<len ; i++){
//         //     var city = dataObject.list[i].name;
//         //     var option = document.createElement('option');
//         //     option.textContent = city;
//         //     area.appendChild(option);
//         // }
//       // showWeather();
//     }
// }
// getWeather();


//選擇城市後，顯示相對應天氣狀況
// function showWeather(e) {
//   /*顯示預設值可以在 xhr.onload() 裡面執行 showWeather()，然後在 showWeather()，裡面增加判斷式若沒有 e 則設定 select 的預設值，反之則是設定 e.target.value*/
//   var select;
//   if(!e){
//     select = 'Taipei';
//   }else{
//     select = e.target.value;
//   }
//     var dataObject = JSON.parse(xhr.responseText);
//     var len = dataObject.list.length;
//     for (var i=0; i<len; i++){
//         var temList = dataObject.list[i].main.temp;
//         var fellLikeList = dataObject.list[i].main.feels_like;
//         var humidityList = dataObject.list[i].main.humidity;
//         if (select == dataObject.list[i].name){
//             tem.textContent = temList + '度';
//             fellLike.textContent = fellLikeList + '度';
//             humidity.textContent = humidityList;
//         }
//     }
// }
  </script>
    
</body>
</html>