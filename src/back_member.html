<!DOCTYPE html>
<html lang="en">
<head>
    @@include('layout/meta.html', {
        "title" : "會員管理"
    })
</head>
<!-- 改body class名稱 -->
<body class="back_member back_reset">
    @@include('layout/backNav.html')

    <div class="back_content" id="memberVue">
        <h2>會員管理</h2>
        <table class="box">
            <tr>
            <th>會員序號</th>
            <th>會員帳號</th>
            <th>會員名稱</th>
            <th>建立時間</th>
            </tr>

            <tr v-for="memRow in memRows">
                <td>{{memRow.mem_no}} </td>
                <td>{{memRow.mem_id}}</td>
                <td>{{memRow.mem_lastname}} {{memRow.mem_name}}</td>
                <td>{{memRow.mem_date}}</td>
            </tr>
        </table>
    </div>

    <script type="text/javascript">
        let memVue = new Vue({
            el:"#memberVue",
            data:{
                memRows:[]
            }
        });

        function getMembers(){
            let xhr = new XMLHttpRequest();
            xhr.onload = function(){
                memVue.memRows = JSON.parse(xhr.responseText)
            }
            xhr.open("get","back_member_get.php",true);
            xhr.send(null);
        }
        window.addEventListener("load", function(){
            getMembers();
        })
    </script>

</body>
</html>